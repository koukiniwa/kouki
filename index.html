<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¸¹ç¾½åº·æ®</title>

  <!-- PWAè¨­å®š -->
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1a1a2e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="ä¸¹ç¾½åº·æ®">
  <link rel="stylesheet" href="styles.css">

<meta name="description" content="ä¸¹ç¾½åº·æ®ã®å€‹äººãƒ–ãƒ­ã‚°ã€‚è¾²å­¦ã€å®‡å®™ç”£æ¥­ã€AIã€ã‚¢ãƒ—ãƒªé–‹ç™ºãªã©ã«ã¤ã„ã¦ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚20ã®è¨˜äº‹ã‚’æ²è¼‰ã€‚">
<meta name="keywords" content="ä¸¹ç¾½åº·æ®, ãƒ–ãƒ­ã‚°, å€‹äººãƒ–ãƒ­ã‚°, è¾²å­¦, è¾²å­¦éƒ¨, AI, å®‡å®™ç”£æ¥­, æ—…è¡Œ, ä¸‡åš, å¤§å­¦ç”Ÿ, æ—¥è¨˜">
<meta name="author" content="ä¸¹ç¾½åº·æ®">

<!-- OGP (SNSã‚·ã‚§ã‚¢ç”¨) -->
<meta property="og:title" content="ä¸¹ç¾½åº·æ® - è¾²å­¦éƒ¨ç”Ÿã®ãƒ–ãƒ­ã‚°">
<meta property="og:description" content="æ¥½ã—ãç”Ÿæ´»ã—ã¦ã„ã‚‹ä¸¹ç¾½åº·æ®ã®å‹•å‘ã‚„ç”Ÿæ´»ã«ã¤ã„ã¦ç™ºä¿¡ã—ã¦ã„ãã¾ã™">
<meta property="og:type" content="website">
<meta property="og:url" content="https://ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å.github.io/ãƒªãƒã‚¸ãƒˆãƒªå/">
<meta property="og:image" content="https://ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å.github.io/ãƒªãƒã‚¸ãƒˆãƒªå/og-image.jpg">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="ä¸¹ç¾½åº·æ® - è¾²å­¦éƒ¨ç”Ÿã®ãƒ–ãƒ­ã‚°">
<meta name="twitter:description" content="æ¥½ã—ãç”Ÿæ´»ã—ã¦ã„ã‚‹ä¸¹ç¾½åº·æ®ã®å‹•å‘ã‚„ç”Ÿæ´»ã«ã¤ã„ã¦ç™ºä¿¡ã—ã¦ã„ãã¾ã™">

</head>
<body>
  <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <h1>ä¸¹ç¾½åº·æ®</h1>
      <p class="subtitle">Kouki Niwa</p>
    </div>

    <nav class="sidebar-nav">
      <a href="#intro" class="nav-link">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>
      <a href="#nov-2025" class="nav-link">2025å¹´11æœˆ</a>
      <a href="#oct-2025" class="nav-link">2025å¹´10æœˆ</a>
      <a href="#sep-2025" class="nav-link">2025å¹´9æœˆ</a>
      <a href="#aug-2025" class="nav-link">2025å¹´8æœˆ</a>
    </nav>

    <div class="sidebar-social">
      <a href="https://instagram.com/kouki__n" target="_blank" class="social-icon" title="Instagram">ğŸ“·</a>
      <a href="https://x.com/hgS9nGJWWF17545" target="_blank" class="social-icon" title="X">âœ•</a>
      <a href="https://note.com/natty_cobra963" target="_blank" class="social-icon" title="Note">ğŸ“</a>
      <a href="https://net-city-beta.web.app/html/city.html" target="_blank" class="social-icon" title="NetCity Beta">ğŸŒ</a>
    </div>
  </aside>

  <!-- ãƒ¢ãƒã‚¤ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <header class="mobile-header">
    <h1>ä¸¹ç¾½åº·æ®</h1>
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>
  </header>

  <!-- ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
  <nav class="mobile-nav" id="mobileNav">
    <a href="#intro" class="nav-link" onclick="closeMobileMenu()">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>
    <a href="#nov-2025" class="nav-link" onclick="closeMobileMenu()">2025å¹´11æœˆ</a>
    <a href="#oct-2025" class="nav-link" onclick="closeMobileMenu()">2025å¹´10æœˆ</a>
    <a href="#sep-2025" class="nav-link" onclick="closeMobileMenu()">2025å¹´9æœˆ</a>
    <a href="#aug-2025" class="nav-link" onclick="closeMobileMenu()">2025å¹´8æœˆ</a>
  </nav>

  <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  <main class="main-content">
    <!-- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« -->
    <section id="intro" class="profile-section">
      <div class="profile-container">
        <div class="profile-image">
          <img src="https://lh3.googleusercontent.com/pw/AP1GczMfN9SWUtNZuB4PGdOOE0p0lZxsAQOm_uWBcyXQLFBfH9pF4_pc7Xx7PA1_wTlXwLEo_AiyPBbPRWccRi7LVoTcb9VUi_1vF-3PK1a9WwvbZvZRQNCdrmN8-vmxnossndP-XcojFlRQdB2QpUP5wIna=w1197-h898-s-no-gm?authuser=0" alt="ä¸¹ç¾½åº·æ®">
        </div>
        <div class="profile-info">
          <h2>ä¸¹ç¾½åº·æ®</h2>
          <p class="profile-title">20æ­³ç”·æ€§</p>
          <p class="profile-bio">æ°—ã¥ã„ãŸãŸã¨ãã«æ›´æ–°ã—ã¦ã„ãã¾ã™ã€€æŠ•ç¨¿é »åº¦ã¯å°‘ãªã„ã§ã™ãŒè¦‹ã¦é ‚ã‘ã‚‹ã¨ã†ã‚Œã—ã„ã§ã™</p>
          <div class="profile-social">
            <a href="https://instagram.com/kouki__n" target="_blank" class="profile-social-link" title="Instagram">ğŸ“· Instagram</a>
            <a href="https://x.com/hgS9nGJWWF17545" target="_blank" class="profile-social-link" title="X">âœ• X</a>
            <a href="https://note.com/natty_cobra963" target="_blank" class="profile-social-link" title="Note">ğŸ“ Note</a>
            <a href="https://net-city-beta.web.app/html/city.html" target="_blank" class="profile-social-link" title="NetCity Beta">ğŸŒ NetCity Beta</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ãƒ–ãƒ­ã‚°ã«ã¤ã„ã¦ -->
    <div class="blog-description">
      <h2>ãƒ–ãƒ­ã‚°ã«ã¤ã„ã¦</h2>
      <p>ä¸¹ç¾½åº·æ®ã®ãƒ–ãƒ­ã‚°ã¸ã‚ˆã†ã“ãã€‚è¾²å­¦éƒ¨ç”Ÿã¨ã—ã¦ã€è¾²æ¥­æŠ€è¡“ã€å®‡å®™ç”£æ¥­ã€AIã€ã‚¢ãƒ—ãƒªé–‹ç™ºãªã©ã®å¹…åºƒã„ãƒˆãƒ”ãƒƒã‚¯ã«ã¤ã„ã¦ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚</p>
      <p>ç¾åœ¨20ã®è¨˜äº‹ã‚’æ²è¼‰ã—ã¦ãŠã‚Šã€å®šæœŸçš„ã«æ–°ã—ã„è¨˜äº‹ã‚’æ›´æ–°ä¸­ã§ã™ã€‚</p>
    </div>

    <!-- è¨˜äº‹ä¸€è¦§ï¼ˆFirestoreã‹ã‚‰å‹•çš„ã«èª­ã¿è¾¼ã¾ã‚Œã¾ã™ï¼‰ -->
    <div id="blogPosts"></div>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="main-footer">
      <div class="footer-links">
        <a href="https://instagram.com/kouki__n" target="_blank">Instagram</a>
        <a href="https://x.com/hgS9nGJWWF17545" target="_blank">X</a>
        <a href="https://note.com/natty_cobra963" target="_blank">Note</a>
      </div>
      <p class="copyright">Â© 2025 Kouki Niwa. All rights reserved.</p>
    </footer>
  </main>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getFirestore, collection, query, orderBy, getDocs } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

    // Firebaseè¨­å®š
    const firebaseConfig = {
      apiKey: "AIzaSyC3qFo-qx2NOsfpmJ1sfUSDMit4ALiqBz4",
      authDomain: "my-blog-98be9.firebaseapp.com",
      projectId: "my-blog-98be9",
      storageBucket: "my-blog-98be9.firebasestorage.app",
      messagingSenderId: "107291416222",
      appId: "1:107291416222:web:0934aee64004a759f9cd8f"
    };

    // FirebaseåˆæœŸåŒ–
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // è¨˜äº‹ã‚’èª­ã¿è¾¼ã‚€
    async function loadPosts() {
      try {
        const postsQuery = query(collection(db, 'posts'), orderBy('date', 'desc'));
        const querySnapshot = await getDocs(postsQuery);

        // æœˆã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
        const postsByMonth = {};

        querySnapshot.forEach((doc) => {
          const data = doc.data();
          const month = data.month || data.date.substring(0, 7); // "2025.11"

          if (!postsByMonth[month]) {
            postsByMonth[month] = [];
          }

          postsByMonth[month].push(data);
        });

        // HTMLã‚’ç”Ÿæˆ
        const blogPostsContainer = document.getElementById('blogPosts');
        let html = '';

        // æœˆã”ã¨ã«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
        Object.keys(postsByMonth).sort().reverse().forEach(month => {
          const monthName = convertMonthName(month);
          const monthId = month.replace('.', '-');

          html += `
            <section id="${monthId}" class="blog-section">
              <h2 class="section-title">${monthName}</h2>
          `;

          // ãã®æœˆã®è¨˜äº‹ã‚’è¿½åŠ 
          postsByMonth[month].forEach(post => {
            html += `
              <article class="blog-post">
                <time class="post-date">${post.date}</time>
                <h3>${post.title}</h3>
            `;

            // ç”»åƒãŒã‚ã‚‹å ´åˆ
            if (post.image) {
              html += `<img src="${post.image}" alt="${post.title}" style="max-width: 100%; height: auto; border-radius: 8px; margin: 15px 0;">`;
            }

            // æ®µè½ã‚’è¿½åŠ 
            post.paragraphs.forEach(paragraph => {
              html += `<p>${paragraph}</p>`;
            });

            html += `</article>`;
          });

          html += `</section>`;
        });

        blogPostsContainer.innerHTML = html;

        // ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°
        updateNavigation(Object.keys(postsByMonth).sort().reverse());

      } catch (error) {
        console.error('è¨˜äº‹ã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
        document.getElementById('blogPosts').innerHTML = '<p style="text-align: center; padding: 50px;">è¨˜äº‹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>';
      }
    }

    // æœˆåã‚’æ—¥æœ¬èªã«å¤‰æ›
    function convertMonthName(month) {
      const year = month.split('.')[0];
      const monthNum = month.split('.')[1];
      return `${year}å¹´${parseInt(monthNum)}æœˆ`;
    }

    // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°
    function updateNavigation(months) {
      const sidebarNav = document.querySelector('.sidebar-nav');
      const mobileNav = document.querySelector('.mobile-nav');

      // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä»¥å¤–ã®ãƒªãƒ³ã‚¯ã‚’å‰Šé™¤
      sidebarNav.querySelectorAll('.nav-link:not([href="#intro"])').forEach(link => link.remove());
      mobileNav.querySelectorAll('.nav-link:not([href="#intro"])').forEach(link => link.remove());

      // æ–°ã—ã„ãƒªãƒ³ã‚¯ã‚’è¿½åŠ 
      months.forEach(month => {
        const monthName = convertMonthName(month);
        const monthId = month.replace('.', '-');

        const sidebarLink = document.createElement('a');
        sidebarLink.href = `#${monthId}`;
        sidebarLink.className = 'nav-link';
        sidebarLink.textContent = monthName;
        sidebarNav.appendChild(sidebarLink);

        const mobileLink = document.createElement('a');
        mobileLink.href = `#${monthId}`;
        mobileLink.className = 'nav-link';
        mobileLink.textContent = monthName;
        mobileLink.onclick = closeMobileMenu;
        mobileNav.appendChild(mobileLink);
      });
    }

    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«è¨˜äº‹ã‚’å–å¾—
    loadPosts();
  </script>

  <script>
    // ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼
    function toggleMobileMenu() {
      const mobileNav = document.getElementById('mobileNav');
      mobileNav.classList.toggle('active');
    }

    function closeMobileMenu() {
      const mobileNav = document.getElementById('mobileNav');
      mobileNav.classList.remove('active');
    }

    // ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰é–‰ã˜ã‚‹
    document.addEventListener('click', function(event) {
      const mobileNav = document.getElementById('mobileNav');
      const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
      const mobileHeader = document.querySelector('.mobile-header');

      // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒé–‹ã„ã¦ã„ã‚‹å ´åˆã®ã¿å‡¦ç†
      if (mobileNav && mobileNav.classList.contains('active')) {
        // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸå ´æ‰€ãŒãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…ã§ã‚‚ãƒ˜ãƒƒãƒ€ãƒ¼å†…ã§ã‚‚ãªã„å ´åˆ
        if (!mobileNav.contains(event.target) && !mobileHeader.contains(event.target)) {
          closeMobileMenu();
        }
      }
    });

    // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒªãƒ³ã‚¯ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
    window.addEventListener('scroll', () => {
      const sections = document.querySelectorAll('section[id]');
      const navLinks = document.querySelectorAll('.nav-link');

      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (pageYOffset >= sectionTop - 200) {
          current = section.getAttribute('id');
        }
      });

      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${current}`) {
          link.classList.add('active');
        }
      });
    });
  </script>
</body>
</html>
